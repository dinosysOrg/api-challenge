<script>
	$(".delete_match").click(function() {
    swal({
        title: 'Are you sure?',
        text: "You won't be able to revert this!",
        type: 'warning',
        showCancelButton: true,
        confirmButtonColor: '#3085d6',
        cancelButtonColor: '#d33',
        confirmButtonText: 'Yes, delete it!'
    }).then((result) => {
        if (result) {
            $.ajax({
                type: "POST",
                url: "/destroy_match",
                data: {
                    id: this.id
                },
                success: (response) => {
                    if (response.status == "success") {
                        swal(
                            'Wohooo!',
                            response.message,
                            'success'
                        )

                        $(this).parent().fadeOut();
                    } else {
                        swal(
                            'Oops...',
                            response.message,
                            'error'
                        )
                    }
                }
            });
                       
        }
    })
});

	$(".matches").editable({
			url: "/update_match",
			type: 'post',
			params: function(params){
                var match_id = $(this).attr("match_id");
                params.id = match_id;
                return params;                
			},
	    success: (response) => {
	        if (response.status == "success") {
	            swal(
	                'Wohooo!',
	                response.message,
	                'success'
	            )

	        } else {
	            swal(
	                'Oops...',
	                response.message,
	                'error'
	            )
	        }
	    }
		})

	// $(".tournament_group").editable({
	// 		url: "/update_match",
	// 		type: 'post',
	// 		source: [
 //              <% Tournament.all.each do |tour| %>
 //              	{value: "<%= tour.id %>", text: "<%= tour.name %>"},
 //              <% end %>
 //           ],
	// 		params: function(params){
 //                var match_id = $(this).attr("match_id");
 //                params.id = match_id;
 //                return params;                
	// 		},
	//     success: (response) => {
	//         if (response.status == "success") {
	//             swal(
	//                 'Wohooo!',
	//                 response.message,
	//                 'success'
	//             )

	//         } else {
	//             swal(
	//                 'Oops...',
	//                 response.message,
	//                 'error'
	//             )
	//         }
	//     }
	// 	})

	// $(".match_group").editable({
	// 		url: "/update_match",
	// 		type: 'post',
	// 		source: [
 //              <% Group.all.each do |group| %>
 //              	{value: "<%= group.id %>", text: "<%= group.name %>"},
 //              <% end %>
 //           ],
	// 		params: function(params){
 //                var match_id = $(this).attr("match_id");
 //                params.id = match_id;
 //                return params;                
	// 		},
	//     success: (response) => {
	//         if (response.status == "success") {
	//             swal(
	//                 'Wohooo!',
	//                 response.message,
	//                 'success'
	//             )

	//         } else {
	//             swal(
	//                 'Oops...',
	//                 response.message,
	//                 'error'
	//             )
	//         }
	//     }
	// 	})


	$(".venue").editable({
			url: "/update_match",
			type: 'post',
			source: [
              <% Venue.all.each do |venue| %>
              	{value: "<%= venue.id %>", text: "<%= venue.name %>"},
              <% end %>
           ],
			params: function(params){
                var match_id = $(this).attr("match_id");
                params.id = match_id;
                return params;                
			},
	    success: (response) => {
	        if (response.status == "success") {
	            swal(
	                'Wohooo!',
	                response.message,
	                'success'
	            )

	        } else {
	            swal(
	                'Oops...',
	                response.message,
	                'error'
	            )
	        }
	    }
		})

	$(".date,.time,.result").editable({
			url: "/update_match",
			type: 'post',
			
			params: function(params){
                var match_id = $(this).attr("match_id");
                params.id = match_id;
                return params;                
			},
	    success: (response) => {
	        if (response.status == "success") {
	            swal(
	                'Wohooo!',
	                response.message,
	                'success'
	            )

	        } else {
	            swal(
	                'Oops...',
	                response.message,
	                'error'
	            )
	        }
	    }
		})
</script>